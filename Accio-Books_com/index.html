<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✨Accio Books! | List Version</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <style>
        body { 
            font-family: Arial, sans-serif; 
            font-size: 1.02em; 
            padding: 5px 15px; 
            line-height: 1.3; 
        }
        img { 
            max-width: 400px; 
            width: 100%; 
            margin-bottom: 5px; 
        }
        #searchForm { 
            margin: 10px 0; 
        }
        p { 
            padding-left: 0; 
        }
        #searchForm input[type="text"] { 
            width: 100%; 
            max-width: 300px; 
            padding: 5px; 
        }
        #searchForm input[type="submit"] { 
            padding: 5px 10px; 
            margin: 5px; 
        }
        #results { 
            margin: 30px 3vw; 
        }
        #results a { 
            display: block; 
            margin: 2px; 
            font-size: 1em; 
        }
        #error { 
            color: red; 
        }
    </style>
</head>
<body>
    <header>
        <img src="accio-books.png" alt="Website Header titled '✨Accio Books!' in a cute font">
    </header>
    <form id="searchForm">
        <label for="bookTitle">
            <p>Watch your list magically appear...</p>
            <p>Search book title <em>(author optional)</em>:</p>
        </label>
        <input type="text" id="bookTitle" name="bookTitle">
        <input type="submit" value="✨Accio Books!">
    </form>
    <div id="results"></div>
    <div id="error"></div>
    <script>
        document.getElementById("searchForm").onsubmit = function(event) {
            event.preventDefault();
            const title = document.getElementById("bookTitle").value.trim();
            const errorDiv = document.getElementById("error");
            const resultsDiv = document.getElementById("results");
            if (!title) {
                errorDiv.textContent = "Please enter a book title.";
                resultsDiv.innerHTML = "";
                return;
            }
            try {
                errorDiv.textContent = "";
                const searches = [
                    { name: 'Goodreads', url: 'https://www.goodreads.com/search?q={searchTerm}' },
                    { name: 'StoryGraph', url: 'https://app.thestorygraph.com/browse?search_term={searchTerm}' },
                    { name: 'Romance.io', url: 'https://www.romance.io/search?q={searchTerm}' },
                    { name: 'BookBub', url: 'https://www.bookbub.com/search?search={searchTerm}' },
                    { name: 'Amazon Kindle', url: 'https://www.amazon.com/s?k={searchTerm}&i=digital-text' },
                    { name: 'Audible', url: 'https://www.audible.com/search?keywords={searchTerm}' },
                    { name: 'Barnes & Noble', url: 'https://www.barnesandnoble.com/s/{searchTerm}/_/N-8qa' },
                    { name: 'Kobo eBook', url: 'https://www.kobo.com/us/en/search?query={searchTerm}&fcmedia=Book' },
                    { name: 'Kobo Audiobook', url: 'https://www.kobo.com/us/en/search?query={searchTerm}&fcmedia=Audiobook' },
                    { name: 'Apple', url: 'https://www.apple.com/us/search/{searchTerm}?src=globalnav' },
                    { name: 'Google Play', url: 'https://play.google.com/store/search?c=books&q={searchTerm}', note: ' <em>(please open link in new window)</em>' }
                ];
                let searchLinks = "";
                searches.forEach(function(search) {
                    const fullUrl = search.url.replace("{searchTerm}", encodeURIComponent(title));
                    searchLinks += '<a href="' + fullUrl + '" target="_blank">' + search.name + ' - ' + title + '</a>';
                    if (search.note) {
                        searchLinks += ' <small>' + search.note + '</small>';
                    }
                    searchLinks += '<br>';
                });
                resultsDiv.innerHTML = searchLinks;
            } catch (error) {
                errorDiv.textContent = "An unexpected error occurred. Please try again.";
                resultsDiv.innerHTML = "";
                console.error("Error generating search links:", error);
            }
        };
    </script>
    <p>
        <br>
        <span style="font-family: 'book antiqua', palatino, serif;"><em>brought to you by Kacie from </em>
        <a href="https://bluestockingsread.com/">BluestockingsRead.com</a>
        </span>
    </p>
</body>
</html>
